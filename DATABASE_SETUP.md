# BabyMama MongoDB æ•°æ®åº“é…ç½®å®Œæˆ

## ğŸ‰ æ•°æ®åº“é›†æˆæˆåŠŸ

### âœ… å·²å®Œæˆçš„é…ç½®

#### 1. **MongoDB è¿æ¥**
- **æ•°æ®åº“**: `mongodb://127.0.0.1:27017/babymama`
- **è¿æ¥çŠ¶æ€**: âœ… æ­£å¸¸
- **è¿æ¥æ± **: å·²é…ç½®ç¼“å­˜è¿æ¥

#### 2. **æ•°æ®æ¨¡å‹**
- âœ… **User** - ç”¨æˆ·æ¨¡å‹ï¼ˆåŒ…å«å¯†ç å“ˆå¸Œï¼‰
- âœ… **Merchant** - å•†å®¶æ¨¡å‹
- âœ… **Product** - äº§å“æ¨¡å‹
- âœ… **Category** - åˆ†ç±»æ¨¡å‹
- âœ… **Order** - è®¢å•æ¨¡å‹
- âœ… **Review** - è¯„è®ºæ¨¡å‹

#### 3. **API ç«¯ç‚¹**
- âœ… **äº§å“API**: `/api/products` - äº§å“åˆ—è¡¨ã€æœç´¢ã€åˆ†é¡µ
- âœ… **åˆ†ç±»API**: `/api/categories` - åˆ†ç±»åˆ—è¡¨
- âœ… **è®¢å•API**: `/api/orders` - è®¢å•ç®¡ç†
- âœ… **å•†å®¶API**: `/api/merchants` - å•†å®¶ç®¡ç†
- âœ… **ç”¨æˆ·API**: `/api/users` - ç”¨æˆ·ç®¡ç†
- âœ… **è®¤è¯API**: `/api/auth/login`, `/api/auth/register` - ç”¨æˆ·è®¤è¯

#### 4. **ç§å­æ•°æ®**
- âœ… **7ä¸ªåˆ†ç±»** - å–‚å…»ã€å°¿å¸ƒã€æŠ¤ç†ã€æœè£…ã€ç©å…·ã€ç”¨å“ã€å­•å¦‡
- âœ… **3ä¸ªå•†å®¶** - ORGANICBABYã€NUTRIBABYã€COMFYDIAPER
- âœ… **2ä¸ªç”¨æˆ·** - John Doeã€Jane Smithï¼ˆå¯†ç ï¼špassword123ï¼‰
- âœ… **6ä¸ªäº§å“** - å„ç§å©´å„¿äº§å“
- âœ… **2ä¸ªè®¢å•** - æµ‹è¯•è®¢å•æ•°æ®
- âœ… **3ä¸ªè¯„è®º** - äº§å“è¯„è®º

### ğŸ”§ æŠ€æœ¯å®ç°

#### **æ•°æ®åº“è¿æ¥**
```typescript
// lib/mongodb.ts
const MONGODB_URI = 'mongodb://127.0.0.1:27017/babymama'
```

#### **å¯†ç å®‰å…¨**
```typescript
// ä½¿ç”¨ bcryptjs è¿›è¡Œå¯†ç å“ˆå¸Œ
const hashedPassword = await bcrypt.hash('password123', 12)
```

#### **JWT è®¤è¯**
```typescript
// ç”Ÿæˆ JWT token
const token = jwt.sign({ userId, email, userType }, JWT_SECRET, { expiresIn: '7d' })
```

### ğŸ“Š æµ‹è¯•ç»“æœ

#### **æ•°æ®åº“è¿æ¥æµ‹è¯•**
```bash
curl -X GET http://localhost:3000/api/test-db
# è¿”å›: è¿æ¥æˆåŠŸï¼Œæ•°æ®ç»Ÿè®¡æ­£å¸¸
```

#### **äº§å“APIæµ‹è¯•**
```bash
curl -X GET "http://localhost:3000/api/products?limit=3"
# è¿”å›: äº§å“åˆ—è¡¨ï¼ŒåŒ…å«åˆ†ç±»å’Œå•†å®¶ä¿¡æ¯
```

#### **è®¤è¯APIæµ‹è¯•**
```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"simple@test.com","password":"test123","userType":"user"}'
# è¿”å›: JWT token å’Œç”¨æˆ·ä¿¡æ¯
```

#### **è®¢å•APIæµ‹è¯•**
```bash
curl -X GET "http://localhost:3000/api/orders"
# è¿”å›: è®¢å•åˆ—è¡¨ï¼ŒåŒ…å«ç”¨æˆ·ä¿¡æ¯
```

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### **1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

#### **2. è®¿é—®APIç«¯ç‚¹**
- äº§å“åˆ—è¡¨: `GET /api/products`
- åˆ†ç±»åˆ—è¡¨: `GET /api/categories`
- è®¢å•åˆ—è¡¨: `GET /api/orders`
- å•†å®¶åˆ—è¡¨: `GET /api/merchants`
- ç”¨æˆ·ç™»å½•: `POST /api/auth/login`

#### **3. é‡æ–°å¡«å……æ•°æ®**
```bash
curl -X POST http://localhost:3000/api/seed
```

### ğŸ” æµ‹è¯•è´¦æˆ·

#### **ç”¨æˆ·è´¦æˆ·**
- é‚®ç®±: `simple@test.com`
- å¯†ç : `test123`

#### **å•†å®¶è´¦æˆ·**
- é‚®ç®±: `info@organicbaby.com`
- å¯†ç : `password123`

### ğŸ“ˆ æ•°æ®ç»Ÿè®¡

- **åˆ†ç±»**: 7ä¸ª
- **å•†å®¶**: 3ä¸ª
- **ç”¨æˆ·**: 2ä¸ª
- **äº§å“**: 6ä¸ª
- **è®¢å•**: 2ä¸ª
- **è¯„è®º**: 3ä¸ª

### ğŸ¯ ä¸‹ä¸€æ­¥

æ•°æ®åº“é›†æˆå·²å®Œæˆï¼Œç°åœ¨å¯ä»¥ï¼š
1. åœ¨å‰ç«¯é¡µé¢ä¸­ä½¿ç”¨çœŸå®æ•°æ®
2. å®ç°å®Œæ•´çš„ç”¨æˆ·è®¤è¯æµç¨‹
3. å¼€å‘å•†å®¶å’Œè¿è¥ç«¯åŠŸèƒ½
4. æ·»åŠ æ›´å¤šä¸šåŠ¡é€»è¾‘

---

**çŠ¶æ€**: âœ… å®Œæˆ  
**æœ€åæ›´æ–°**: 2025-09-12  
**æ•°æ®åº“**: MongoDB 7.0+  
**æ¡†æ¶**: Next.js 14 + Mongoose 8
